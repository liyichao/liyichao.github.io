---
layout: post
title: "tracing系统"
category: 
tags: []
---
{% include JB/setup %}



# API设计

## Transaction
    webserver trace = Trace.new_trace()
    with Trace.new_transaction():
        trace = Trace.get_currrent_trace()
        trace.record("cache miss")
 
数据库调用，redis调用，RPC调用，都应该是一个Transaction，transaction也可以是一个本地函数调用，transaction是一个时间段的概念。

# Event

用于记录一件事发生的次数，属于时间点的概念，Event应该是属于某个transaction的

